(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{LUu2:function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){var i,o,s=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,r=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="movie list-view" data-id='+r("function"==typeof(o=null!=(o=u(t,"id")||(null!=e?u(e,"id"):e))?o:c)?o.call(s,{name:"id",hash:{},data:a,loc:{start:{line:2,column:37},end:{line:2,column:43}}}):o)+'>\n  <div class="star star-list star-img"></div>\n'+(null!=(i=u(t,"if").call(s,null!=e?u(e,"img"):e,{name:"if",hash:{},fn:n.program(2,a,0),inverse:n.program(4,a,0),data:a,loc:{start:{line:4,column:2},end:{line:8,column:9}}}))?i:"")+'  <div class="list-view__block">\n    <div class="movie__description">\n      <div class="movie__title">'+r("function"==typeof(o=null!=(o=u(t,"name")||(null!=e?u(e,"name"):e))?o:c)?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:11,column:32},end:{line:11,column:40}}}):o)+'</div>\n      <div class="movie__year">'+r("function"==typeof(o=null!=(o=u(t,"year")||(null!=e?u(e,"year"):e))?o:c)?o.call(s,{name:"year",hash:{},data:a,loc:{start:{line:12,column:31},end:{line:12,column:39}}}):o)+"</div>\n    </div>\n    <p>"+r("function"==typeof(o=null!=(o=u(t,"description")||(null!=e?u(e,"description"):e))?o:c)?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:14,column:7},end:{line:14,column:22}}}):o)+'</p>\n    <ul class="list-view__genres">\n'+(null!=(i=u(t,"each").call(s,null!=e?u(e,"genres"):e,{name:"each",hash:{},fn:n.program(6,a,0),inverse:n.noop,data:a,loc:{start:{line:16,column:6},end:{line:18,column:15}}}))?i:"")+"    </ul>\n  </div>\n</div>\n"},2:function(n,e,t,l,a){var i,o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"  <img src="+n.escapeExpression("function"==typeof(i=null!=(i=o(t,"img")||(null!=e?o(e,"img"):e))?i:n.hooks.helperMissing)?i.call(null!=e?e:n.nullContext||{},{name:"img",hash:{},data:a,loc:{start:{line:5,column:11},end:{line:5,column:18}}}):i)+' alt="poster" class="movie__image" />\n'},4:function(n,e,t,l,a){return'  <img src="../images/movie-placeholder.svg" alt="poster" class="movie__image" />\n'},6:function(n,e,t,l,a){return'      <li class="list-view__genre">'+n.escapeExpression(n.lambda(e,e))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i;return null!=(i=n.hooks.blockHelperMissing.call(e,n.lambda(e,e),{name:"this",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:22,column:9}}}))?i:""},useData:!0})},"S+Pc":function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){var i,o=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,c=n.escapeExpression,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<li class="fav__item" data-id='+c("function"==typeof(i=null!=(i=r(t,"id")||(null!=e?r(e,"id"):e))?i:s)?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:2,column:30},end:{line:2,column:36}}}):i)+'>\n  <div class="fav">\n    <p class="fav__title">'+c("function"==typeof(i=null!=(i=r(t,"movie")||(null!=e?r(e,"movie"):e))?i:s)?i.call(o,{name:"movie",hash:{},data:a,loc:{start:{line:4,column:26},end:{line:4,column:35}}}):i)+'</p>\n    <span class="fav__delete">X</span>\n  </div>\n</li>\n'},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i;return null!=(i=n.hooks.blockHelperMissing.call(e,n.lambda(e,e),{name:"this",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?i:""},useData:!0})},Torg:function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){return'      <li class="modal__genre">'+n.escapeExpression(n.lambda(e,e))+"</li>\n"},3:function(n,e,t,l,a){return n.escapeExpression(n.lambda(e,e))+","},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i,o,s=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,r="function",u=n.escapeExpression,m=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="modal__data">\n  <div class="modal__main">\n    <div class="modal__close">X</div>\n    <img src='+u(typeof(o=null!=(o=m(t,"img")||(null!=e?m(e,"img"):e))?o:c)===r?o.call(s,{name:"img",hash:{},data:a,loc:{start:{line:4,column:13},end:{line:4,column:20}}}):o)+' alt="poster" class="modal__image" />\n    <div class="modal__description">\n      <h2 class="modal__title">'+u(typeof(o=null!=(o=m(t,"name")||(null!=e?m(e,"name"):e))?o:c)===r?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:6,column:31},end:{line:6,column:39}}}):o)+'</h2>\n      <p class="modal__text">'+u(typeof(o=null!=(o=m(t,"description")||(null!=e?m(e,"description"):e))?o:c)===r?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:7,column:29},end:{line:7,column:44}}}):o)+'</p>\n    </div>\n  </div>\n  <div class="modal__info">\n    <div class="star modal__star star-img"></div>\n    <div class="modal__year"><b>'+u(typeof(o=null!=(o=m(t,"year")||(null!=e?m(e,"year"):e))?o:c)===r?o.call(s,{name:"year",hash:{},data:a,loc:{start:{line:12,column:32},end:{line:12,column:40}}}):o)+'</b></div>\n  </div>\n  <div class="modal__secondary">\n    <ul class="modal__genres">\n'+(null!=(i=m(t,"each").call(s,null!=e?m(e,"genres"):e,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:16,column:6},end:{line:18,column:15}}}))?i:"")+'    </ul>\n    <div class="modal__emp">\n      <p>Director: <b>'+u(typeof(o=null!=(o=m(t,"director")||(null!=e?m(e,"director"):e))?o:c)===r?o.call(s,{name:"director",hash:{},data:a,loc:{start:{line:21,column:22},end:{line:21,column:34}}}):o)+"</b></p>\n      <p>Starring: "+(null!=(i=m(t,"each").call(s,null!=e?m(e,"starring"):e,{name:"each",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:22,column:19},end:{line:22,column:55}}}))?i:"")+"</p>\n    </div>\n  </div>\n</div>"},useData:!0})},ch6i:function(n,e,t){},e6Wu:function(n,e,t){"use strict";t.r(e);var l=t("zsO2"),a=t.n(l),i=t("LUu2"),o=t.n(i),s=t("S+Pc"),c=t.n(s);function r(n,e){const t=JSON.stringify(e);localStorage.setItem(n,t)}function u(n){const e=localStorage.getItem(n);return JSON.parse(e)}var m=t("Torg"),d=t.n(m);const p=document.querySelector(".modal-overlay"),v=document.querySelector(".modal");p.addEventListener("click",(function(n){(function(n){n.target.classList.contains("modal__star")&&(n.target.classList.toggle("star-img-active"),n.target.classList.contains("star-img-active")&&(y.collection=[f],M(),q()),n.target.classList.contains("star-img-active")||(y.delete(f.id),C(f.id),M()))})(n),function(n){n.target.classList.contains("modal__close")&&h();n.target===n.currentTarget&&h()}(n)}));let f={};async function g(n){const e=await(async n=>{try{const e=await fetch(`https://my-json-server.typicode.com/moviedb-tech/movies/list/${n}`);return await e.json()}catch(n){console.log(err)}})(n);f={title:e.name,id:`${e.id}`};const t=d()(e);v.innerHTML=t,p.classList.add("modal-visible"),function(n){const e=u("movies");if(e&&e.length>0){const t=document.querySelector(".modal__star");e.map(n=>n.id).includes(n)&&t.classList.add("star-img-active")}}(n),window.addEventListener("keydown",_)}function h(){p.classList.remove("modal-visible"),window.removeEventListener("keydown",_)}function _(n){"Escape"===n.code&&h()}const y=new class{constructor(){this._collection=[]}get collection(){return this._collection}set collection(n){this._collection.push(...n),r("movies",this._collection)}delete(n){this._collection=this._collection.filter(e=>e.id!==n),r("movies",this._collection)}};let w=[];const L=document.querySelector("#movies"),k=document.querySelector(".favorite-list"),b=document.querySelector("#genre"),x=document.querySelector("#grid"),E=document.querySelector("#list");async function O(){const n=await(async()=>{try{const n=await fetch("https://my-json-server.typicode.com/moviedb-tech/movies/list");return await n.json()}catch(n){console.log(n)}})();w.push(...function(n){return n.map(n=>({...n,genres:n.genres.map(n=>n.toLowerCase())}))}(n));const e=a()(w);L.innerHTML=e}function S(n){y.collection=n}function M(){const n=y.collection.map(n=>({movie:j(n.title),id:n.id})),e=c()(n);k.innerHTML=e}function P(n,e){e(n),M()}function j(n){let e;return n.length>23?(e=[...n].slice(0,23),e.push("..."),e.join("")):n}function q(){(function(){const n=document.querySelectorAll(".movie"),e=u("movies");if(e&&e.length>0){const t=e.map(n=>n.id);return[...n].filter(n=>t.includes(n.dataset.id)).map(n=>n.getElementsByClassName("star"))}return[]})().map(n=>n[0].classList.add("star-img-active"))}function C(n){[...document.querySelectorAll(".movie")].filter(e=>e.dataset.id==n)[0].getElementsByClassName("star")[0].classList.remove("star-img-active")}function N({target:n}){"grid"===n.value?(T(n.value,a.a),b.value=""):(T(n.value,o.a),b.value="")}function T(n,e){const t=e(w);L.innerHTML=t,r("view",n),q()}L.addEventListener("click",(function(n){const e=n.target.closest(".movie");if(n.target.classList.contains("star")){n.target.classList.toggle("star-img-active");const t=e.getElementsByClassName("movie__title")[0].innerText,l=e.dataset.id;n.target.classList.contains("star-img-active")&&P([{title:t,id:l}],S),n.target.classList.contains("star-img-active")||(y.delete(l),M())}if(e&&!n.target.classList.contains("star")){g(e.dataset.id)}})),k.addEventListener("click",(function(n){if(n.target.classList.contains("fav__delete")){const e=n.target.closest(".fav__item").dataset.id;C(e),y.delete(e),M()}})),b.addEventListener("change",(function(){const n=b.value,e=w.reduce((e,t,l,a)=>{if(""===n)return a;return a.filter(e=>e.genres.includes(n))},[]);let t;t="grid"===u("view")?a()(e):o()(e);L.innerHTML=t,q()})),x.addEventListener("click",N),E.addEventListener("click",N),window.onload=function(){!function(){const n=u("movies");n&&n.length>0&&P(n,S)}(),O().then(()=>{q()})};t("ch6i"),t.p,t.p},zsO2:function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){var i,o,s=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,r=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="movie grid-view" data-id='+r("function"==typeof(o=null!=(o=u(t,"id")||(null!=e?u(e,"id"):e))?o:c)?o.call(s,{name:"id",hash:{},data:a,loc:{start:{line:2,column:37},end:{line:2,column:43}}}):o)+'>\n  <div class="star star-grid star-img"></div>\n'+(null!=(i=u(t,"if").call(s,null!=e?u(e,"img"):e,{name:"if",hash:{},fn:n.program(2,a,0),inverse:n.program(4,a,0),data:a,loc:{start:{line:4,column:2},end:{line:8,column:9}}}))?i:"")+'  <div class="movie__description">\n    <div class="movie__title">'+r("function"==typeof(o=null!=(o=u(t,"name")||(null!=e?u(e,"name"):e))?o:c)?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:10,column:30},end:{line:10,column:38}}}):o)+'</div>\n    <div class="movie__year">'+r("function"==typeof(o=null!=(o=u(t,"year")||(null!=e?u(e,"year"):e))?o:c)?o.call(s,{name:"year",hash:{},data:a,loc:{start:{line:11,column:29},end:{line:11,column:37}}}):o)+"</div>\n  </div>\n</div>\n"},2:function(n,e,t,l,a){var i,o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"  <img src="+n.escapeExpression("function"==typeof(i=null!=(i=o(t,"img")||(null!=e?o(e,"img"):e))?i:n.hooks.helperMissing)?i.call(null!=e?e:n.nullContext||{},{name:"img",hash:{},data:a,loc:{start:{line:5,column:11},end:{line:5,column:18}}}):i)+' alt="poster" class="movie__image" />\n'},4:function(n,e,t,l,a){return'  <img src="../images/movie-placeholder.svg" alt="poster" class="movie__image" />\n'},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i;return null!=(i=n.hooks.blockHelperMissing.call(e,n.lambda(e,e),{name:"this",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?i:""},useData:!0})}},[["e6Wu",1,2]]]);