(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{EJhG:function(n,e){n.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OS45NCA0OS45NCIgc3Ryb2tlPSIjZjcwIj48cGF0aCBkPSJNNDguODYgMjIuNzNhMy41NiAzLjU2IDAgMDAuOS0zLjY3IDMuNTYgMy41NiAwIDAwLTIuODktMi40NGwtMTIuMS0xLjc1YTEuNiAxLjYgMCAwMS0xLjE4LS44N2wtNS40LTEwLjk2Yy0uNjItMS4yMy0xLjg1LTItMy4yMi0ycy0yLjYuNzctMy4yMSAyTDE2LjM2IDE0Yy0uMjQuNDctLjY4Ljc5LTEuMi44NmwtMTIuMSAxLjc2YTMuNTYgMy41NiAwIDAwLTIuODggMi40NCAzLjU2IDMuNTYgMCAwMC45IDMuNjdsOC43NSA4LjUzYy4zOC4zNi41NS44OS40NiAxLjRMOC4yMiA0NC43YTMuNTYgMy41NiAwIDAwMS40MyAzLjVjMS4xLjgxIDIuNTUuOTIgMy43Ny4yOGwxMC44MS01LjY5YTEuNTggMS41OCAwIDAxMS40OCAwbDEwLjgxIDUuNjlhMy41OCAzLjU4IDAgMDA1LjItMy43OGwtMi4wNy0xMi4wNGMtLjA5LS41MS4wOC0xLjA0LjQ2LTEuNGw4Ljc1LTguNTN6TTM3LjY4IDMzbDIuMDcgMTIuMDRhMS41ODQgMS41ODQgMCAwMS0yLjMgMS42N2wtMTAuODEtNS42OWEzLjYgMy42IDAgMDAtMy4zNCAwbC0xMC44IDUuNjljLS41NS4yOC0xLjE3LjI0LTEuNjctLjEyLS41LS4zNy0uNzMtLjk0LS42My0xLjU1TDEyLjI2IDMzYTMuNTggMy41OCAwIDAwLTEuMDMtMy4xN0wyLjQ4IDIxLjNhMS41NSAxLjU1IDAgMDEtLjQtMS42MmMuMTktLjU5LjY3LS45OSAxLjI4LTEuMDhsMTIuMDktMS43NmEzLjU4IDMuNTggMCAwMDIuNy0xLjk2bDUuNC0xMC45NWMuMjctLjU1LjgtLjg4IDEuNDItLjg4LjYxIDAgMS4xNC4zMyAxLjQyLjg4bDUuNCAxMC45NWEzLjU3IDMuNTcgMCAwMDIuNyAxLjk2bDEyLjEgMS43NmMuNi4wOSAxLjA4LjUgMS4yNyAxLjA4LjE5LjU4LjA0IDEuMTktLjQgMS42MmwtOC43NSA4LjUzYy0uODQuODItMS4yMyAyLTEuMDMgMy4xN3oiLz48L3N2Zz4="},LUu2:function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){var i,o,s=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,r="function",u=n.escapeExpression,d=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="movie list-view" data-id='+u(typeof(o=null!=(o=d(t,"id")||(null!=e?d(e,"id"):e))?o:c)===r?o.call(s,{name:"id",hash:{},data:a,loc:{start:{line:2,column:37},end:{line:2,column:43}}}):o)+'>\n  <div class="star star-list star-img"></div>\n  <img src='+u(typeof(o=null!=(o=d(t,"img")||(null!=e?d(e,"img"):e))?o:c)===r?o.call(s,{name:"img",hash:{},data:a,loc:{start:{line:4,column:11},end:{line:4,column:18}}}):o)+' alt="poster" class="movie__image" />\n  <div class="list-view__block">\n    <div class="movie__description">\n      <div class="movie__title">'+u(typeof(o=null!=(o=d(t,"name")||(null!=e?d(e,"name"):e))?o:c)===r?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:7,column:32},end:{line:7,column:40}}}):o)+'</div>\n      <div class="movie__year">'+u(typeof(o=null!=(o=d(t,"year")||(null!=e?d(e,"year"):e))?o:c)===r?o.call(s,{name:"year",hash:{},data:a,loc:{start:{line:8,column:31},end:{line:8,column:39}}}):o)+"</div>\n    </div>\n    <p>"+u(typeof(o=null!=(o=d(t,"description")||(null!=e?d(e,"description"):e))?o:c)===r?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:10,column:7},end:{line:10,column:22}}}):o)+'</p>\n    <ul class="list-view__genres">\n'+(null!=(i=d(t,"each").call(s,null!=e?d(e,"genres"):e,{name:"each",hash:{},fn:n.program(2,a,0),inverse:n.noop,data:a,loc:{start:{line:12,column:6},end:{line:14,column:15}}}))?i:"")+"    </ul>\n  </div>\n</div>\n"},2:function(n,e,t,l,a){return'      <li class="list-view__genre">'+n.escapeExpression(n.lambda(e,e))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i;return null!=(i=n.hooks.blockHelperMissing.call(e,n.lambda(e,e),{name:"this",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:18,column:9}}}))?i:""},useData:!0})},"S+Pc":function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){var i,o=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,c=n.escapeExpression,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<li class="fav__item" data-id='+c("function"==typeof(i=null!=(i=r(t,"id")||(null!=e?r(e,"id"):e))?i:s)?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:2,column:30},end:{line:2,column:36}}}):i)+'>\n  <div class="fav">\n    <p class="fav__title">'+c("function"==typeof(i=null!=(i=r(t,"movie")||(null!=e?r(e,"movie"):e))?i:s)?i.call(o,{name:"movie",hash:{},data:a,loc:{start:{line:4,column:26},end:{line:4,column:35}}}):i)+'</p>\n    <span class="fav__delete">X</span>\n  </div>\n</li>\n'},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i;return null!=(i=n.hooks.blockHelperMissing.call(e,n.lambda(e,e),{name:"this",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?i:""},useData:!0})},Torg:function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){return'      <li class="modal__genre">'+n.escapeExpression(n.lambda(e,e))+"</li>\n"},3:function(n,e,t,l,a){return n.escapeExpression(n.lambda(e,e))+","},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i,o,s=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,r="function",u=n.escapeExpression,d=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="modal__data">\n  <div class="modal__main">\n    <div class="modal__close">X</div>\n    <img src='+u(typeof(o=null!=(o=d(t,"img")||(null!=e?d(e,"img"):e))?o:c)===r?o.call(s,{name:"img",hash:{},data:a,loc:{start:{line:4,column:13},end:{line:4,column:20}}}):o)+' alt="poster" class="modal__image" />\n    <div class="modal__description">\n      <h2 class="modal__title">'+u(typeof(o=null!=(o=d(t,"name")||(null!=e?d(e,"name"):e))?o:c)===r?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:6,column:31},end:{line:6,column:39}}}):o)+'</h2>\n      <p class="modal__text">'+u(typeof(o=null!=(o=d(t,"description")||(null!=e?d(e,"description"):e))?o:c)===r?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:7,column:29},end:{line:7,column:44}}}):o)+'</p>\n    </div>\n  </div>\n  <div class="modal__info">\n    <div class="star modal__star star-img"></div>\n    <div class="modal__year"><b>'+u(typeof(o=null!=(o=d(t,"year")||(null!=e?d(e,"year"):e))?o:c)===r?o.call(s,{name:"year",hash:{},data:a,loc:{start:{line:12,column:32},end:{line:12,column:40}}}):o)+'</b></div>\n  </div>\n  <div class="modal__secondary">\n    <ul class="modal__genres">\n'+(null!=(i=d(t,"each").call(s,null!=e?d(e,"genres"):e,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:16,column:6},end:{line:18,column:15}}}))?i:"")+'    </ul>\n    <div class="modal__emp">\n      <p>Director: <b>'+u(typeof(o=null!=(o=d(t,"director")||(null!=e?d(e,"director"):e))?o:c)===r?o.call(s,{name:"director",hash:{},data:a,loc:{start:{line:21,column:22},end:{line:21,column:34}}}):o)+"</b></p>\n      <p>Starring: "+(null!=(i=d(t,"each").call(s,null!=e?d(e,"starring"):e,{name:"each",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:22,column:19},end:{line:22,column:55}}}))?i:"")+"</p>\n    </div>\n  </div>\n</div>"},useData:!0})},ch6i:function(n,e,t){},e6Wu:function(n,e,t){"use strict";t.r(e);var l=t("zsO2"),a=t.n(l),i=t("LUu2"),o=t.n(i),s=t("S+Pc"),c=t.n(s);function r(n,e){const t=JSON.stringify(e);localStorage.setItem(n,t)}function u(n){const e=localStorage.getItem(n);return JSON.parse(e)}var d=t("Torg"),m=t.n(d);const g=document.querySelector(".modal-overlay"),v=document.querySelector(".modal");g.addEventListener("click",(function(n){(function(n){n.target.classList.contains("modal__star")&&(n.target.classList.toggle("star-img-active"),n.target.classList.contains("star-img-active")&&(f.collection=[p],I(),T()),n.target.classList.contains("star-img-active")||(f.delete(p.id),O(p.id),I()))})(n),function(n){n.target.classList.contains("modal__close")&&M();n.target===n.currentTarget&&M()}(n)}));let p={};async function y(n){const e=await(async n=>{try{const e=await fetch(`https://my-json-server.typicode.com/moviedb-tech/movies/list/${n}`);return await e.json()}catch(n){console.log(err)}})(n);p={title:e.name,id:`${e.id}`};const t=m()(e);v.innerHTML=t,g.classList.add("modal-visible"),function(n){const e=u("movies");if(e&&e.length>0){const t=document.querySelector(".modal__star");e.map(n=>n.id).includes(n)&&t.classList.add("star-img-active")}}(n),window.addEventListener("keydown",L)}function M(){g.classList.remove("modal-visible"),window.removeEventListener("keydown",L)}function L(n){"Escape"===n.code&&M()}const f=new class{constructor(){this._collection=[]}get collection(){return this._collection}set collection(n){this._collection.push(...n),r("movies",this._collection)}delete(n){this._collection=this._collection.filter(e=>e.id!==n),r("movies",this._collection)}};let h=[];const j=document.querySelector("#movies"),N=document.querySelector(".favorite-list"),_=document.querySelector("#genre"),w=document.querySelector("#grid"),S=document.querySelector("#list");async function D(){const n=await(async()=>{try{const n=await fetch("https://my-json-server.typicode.com/moviedb-tech/movies/list");return await n.json()}catch(n){console.log(n)}})();h.push(...function(n){return n.map(n=>({...n,genres:n.genres.map(n=>n.toLowerCase())}))}(n));const e=a()(h);j.innerHTML=e}function A(n){f.collection=n}function I(){const n=f.collection.map(n=>({movie:E(n.title),id:n.id})),e=c()(n);N.innerHTML=e}function x(n,e){e(n),I()}function E(n){let e;return n.length>23?(e=[...n].slice(0,23),e.push("..."),e.join("")):n}function T(){(function(){const n=document.querySelectorAll(".movie"),e=u("movies");if(e&&e.length>0){const t=e.map(n=>n.id);return[...n].filter(n=>t.includes(n.dataset.id)).map(n=>n.getElementsByClassName("star"))}return[]})().map(n=>n[0].classList.add("star-img-active"))}function O(n){[...document.querySelectorAll(".movie")].filter(e=>e.dataset.id==n)[0].getElementsByClassName("star")[0].classList.remove("star-img-active")}function C({target:n}){"grid"===n.value?(b(n.value,a.a),_.value=""):(b(n.value,o.a),_.value="")}function b(n,e){const t=e(h);j.innerHTML=t,r("view",n),T()}j.addEventListener("click",(function(n){const e=n.target.closest(".movie");if(n.target.classList.contains("star")){n.target.classList.toggle("star-img-active");const t=e.getElementsByClassName("movie__title")[0].innerText,l=e.dataset.id;n.target.classList.contains("star-img-active")&&x([{title:t,id:l}],A),n.target.classList.contains("star-img-active")||(f.delete(l),I())}if(e&&!n.target.classList.contains("star")){y(e.dataset.id)}})),N.addEventListener("click",(function(n){if(n.target.classList.contains("fav__delete")){const e=n.target.closest(".fav__item").dataset.id;O(e),f.delete(e),I()}})),_.addEventListener("change",(function(){const n=_.value,e=h.reduce((e,t,l,a)=>{if(""===n)return a;return a.filter(e=>e.genres.includes(n))},[]);let t;t="grid"===u("view")?a()(e):o()(e);j.innerHTML=t,T()})),w.addEventListener("click",C),S.addEventListener("click",C),window.onload=function(){!function(){const n=u("movies");n&&n.length>0&&x(n,A)}(),D().then(()=>{T()})};t("ch6i"),t("EJhG")},zsO2:function(n,e,t){var l=t("3O+N");n.exports=(l.default||l).template({1:function(n,e,t,l,a){var i,o=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,c=n.escapeExpression,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="movie grid-view" data-id='+c("function"==typeof(i=null!=(i=r(t,"id")||(null!=e?r(e,"id"):e))?i:s)?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:2,column:37},end:{line:2,column:43}}}):i)+'>\n  <div class="star star-grid star-img"></div>\n  <img src='+c("function"==typeof(i=null!=(i=r(t,"img")||(null!=e?r(e,"img"):e))?i:s)?i.call(o,{name:"img",hash:{},data:a,loc:{start:{line:4,column:11},end:{line:4,column:18}}}):i)+' alt="poster" class="movie__image" />\n  <div class="movie__description">\n    <div class="movie__title">'+c("function"==typeof(i=null!=(i=r(t,"name")||(null!=e?r(e,"name"):e))?i:s)?i.call(o,{name:"name",hash:{},data:a,loc:{start:{line:6,column:30},end:{line:6,column:38}}}):i)+'</div>\n    <div class="movie__year">'+c("function"==typeof(i=null!=(i=r(t,"year")||(null!=e?r(e,"year"):e))?i:s)?i.call(o,{name:"year",hash:{},data:a,loc:{start:{line:7,column:29},end:{line:7,column:37}}}):i)+"</div>\n  </div>\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,l,a){var i;return null!=(i=n.hooks.blockHelperMissing.call(e,n.lambda(e,e),{name:"this",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:10,column:9}}}))?i:""},useData:!0})}},[["e6Wu",1,2]]]);